{"version":3,"sources":["../../../makerspace-checkin/src/logo.png","../../../makerspace-checkin/src/App.js","../../../makerspace-checkin/src/serviceWorker.js","../../../makerspace-checkin/src/index.js"],"names":["module","exports","__webpack_require__","p","ical","require","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","token","appref","React","createRef","state","time","Date","now","id","undefined","status","reason","member","voices","count","mytimer","setInterval","speechSynthesis","getVoices","length","setState","clearInterval","choices","voice_index","utterance","SpeechSynthesisUtterance","Math","floor","random","voice","console","log","lang","speak","interval","_this2","socket","socketIO","transports","jsonp","connect","on","msg","name","access","charAt","toUpperCase","slice","toLowerCase","setTimeout","bind","events","fromURL","err","data","k","ev","type","start","getTime","push","sort","a","b","new_interval","react_default","createElement","className","style","backgroundColor","src","logo","ref","onClick","handleSpeak","class","role","aria-labelledby","App_Events","Fragment","Component","Events","_this3","props","event_loc","map","item","summary","filter","params","NAME","val","join","dist_default","format","date","Boolean","window","location","hostname","match","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,udCQlCC,UAAOC,EAAQ,MAEfC,cACJ,SAAAA,IAAa,IAAAC,EAcX,GAdWC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACXC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,QACKI,MAAO,uCACZP,EAAKQ,OAASC,IAAMC,YACpBV,EAAKW,MAAM,CACTC,KAAMC,KAAKC,MACXC,QAAIC,EACJC,OAAQ,OACRC,OAAQ,GACRC,YAAQH,EACRI,OAAS,GACTC,MAAQ,QAGSL,IAAhBhB,EAAKoB,QAAwBpB,EAAKoB,SAAW,GAC9C,IAAIE,EAAUC,YAAa,WACzBvB,EAAKoB,OAASI,gBAAgBC,iBACZT,GAAfhB,EAAKoB,QAAuBpB,EAAKoB,OAAOM,OAAS,IAClD1B,EAAK2B,SAAS,CAACP,OAAOpB,EAAKoB,SAC3BQ,cAAcN,KAEjB,KArBQ,OAAAtB,6EAmHX,GAA0B,YAAtBG,KAAKQ,MAAMM,OAAqB,CACvBd,KAAKQ,MAAMQ,OAAtB,IAEIU,EAAU,CACR,WAAW1B,KAAKQ,MAAMQ,OAAO,IAC7B,cAAchB,KAAKQ,MAAMQ,OAAO,IAChC,gBAAgBhB,KAAKQ,MAAMQ,OAAO,IAClC,mBAAmBhB,KAAKQ,MAAMQ,OAAO,IACrC,iBAAiBhB,KAAKQ,MAAMQ,OAAO,IACnC,gBAAgBhB,KAAKQ,MAAMQ,OAAO,IAClC,uBAAkBhB,KAAKQ,MAAMQ,OAAO,IACpC,yBAAyBhB,KAAKQ,MAAMQ,OAAO,IAC3C,yBAAyBhB,KAAKQ,MAAMQ,OAAO,IAC3C,mCAAmChB,KAAKQ,MAAMQ,OAAO,IACrD,qBAAqBhB,KAAKQ,MAAMQ,OAAO,IACvC,SAAShB,KAAKQ,MAAMQ,OAAO,IAC3B,UAAUhB,KAAKQ,MAAMQ,OAAO,IAC5B,SAAShB,KAAKQ,MAAMQ,OAAO,wCAC3B,SAAShB,KAAKQ,MAAMQ,OAAO,IAC3B,uBAAuBhB,KAAKQ,MAAMQ,OAAO,IACzC,6BAA6BhB,KAAKQ,MAAMQ,OAAO,IAC/C,mBAAmBhB,KAAKQ,MAAMQ,OAAO,IACrC,2BAA2BhB,KAAKQ,MAAMQ,OAAO,IAC7C,6CAA6ChB,KAAKQ,MAAMQ,OAAO,IAC/D,8CAA8ChB,KAAKQ,MAAMQ,OAAO,IAChE,mBAAmBhB,KAAKQ,MAAMQ,OAAO,oCA0B7C,QAAyBH,IAAtBb,KAAKQ,MAAMQ,QAA6C,IAArBhB,KAAKQ,MAAMU,MAAY,CAC3D,IAAIS,EAAc,CAAC,EAAE,EAAE,EAAE,EAAE,IACvBC,EAAY,IAAIC,yBAAyBH,EAAQI,KAAKC,MAAMD,KAAKE,SAASN,EAAQH,WAC5EU,MAAQjC,KAAKQ,MAAMS,OAAOU,EAAYG,KAAKC,MAAoB,EAAdD,KAAKE,YAChEE,QAAQC,IAAIR,EAAYG,KAAKC,MAAoB,EAAdD,KAAKE,YACxCJ,EAAUQ,KAAOpC,KAAKQ,MAAMS,OAAO,GAAGmB,KACtCf,gBAAgBgB,MAAMT,GACtB5B,KAAKwB,SAAS,CAACN,MAAM,UAIvB,GAAwB,IAArBlB,KAAKQ,MAAMU,MAAY,CAC1B,IACIU,KAAY,IAAIC,yBAAyB,kEACnCI,MAAQjC,KAAKQ,MAAMS,OAFX,CAAC,EAAE,EAAE,EAAE,EAAE,GAEqBa,KAAKC,MAAoB,EAAdD,KAAKE,YAChEJ,EAAUQ,KAAOpC,KAAKQ,MAAMS,OAAO,GAAGmB,KACtCf,gBAAgBgB,MAAMT,GACtB5B,KAAKwB,SAAS,CAACN,MAAM,oDAKrBO,cAAczB,KAAKsC,sDAGD,IAAAC,EAAAvC,KAIZwC,EAASC,IAAS,wBAAyB,CAC7CC,WAAY,CAAC,aAAcC,OAAO,IAClCH,EAAOI,UACPJ,EAAOK,GAAG,UAAW,WACnBX,QAAQC,IAAI,kCAEdK,EAAOK,GAAG,kBAAmB,SAACC,GAC5B,IAAIC,EAAOD,EAAG,KAAS,GACnBE,EAASF,EAAG,KAAS,GACzBP,EAAKf,SAAS,CAAER,OAAQ+B,EAAKE,OAAO,GAAGC,cAAgBH,EAAKI,MAAM,GAAGC,cACrDtC,OAAQkC,IAGxBK,WAAW,WACTrD,KAAKwB,SAAS,CAAER,YAAQH,EACRC,OAAQ,UAExBwC,KAAKf,GAAO,YAQD1B,IAAhBb,KAAKuD,QACN7D,EAAK8D,QAAQ,wFAAyF,GAAK,SAACC,EAAKC,GAE/G,IAAK,IAAIC,KADXpB,EAAKgB,OAAS,GACEG,EAAM,CAChB,IAAIE,EAAKF,EAAKC,GACO,WAAjBD,EAAKC,GAAGE,MACHD,EAAGE,OAAS,IAAIpD,MAAUkD,EAAGE,OAAS,IAAIpD,MAAK,IAAIA,MAAOqD,UAAY,SACvExB,EAAKgB,OAAOS,KAAKJ,GAI7BrB,EAAKgB,OAAShB,EAAKgB,OAAOU,KAAK,SAACC,EAAEC,GAChC,OAAOD,EAAEJ,MAAQK,EAAEL,UAIzB9D,KAAKoE,aAAehD,YAAY,WAE9B1B,EAAK8D,QAAQ,wFAAyF,GAAK,SAACC,EAAKC,GAE/G,IAAK,IAAIC,KADXpB,EAAKgB,OAAS,GACEG,EAAM,CAChB,IAAIE,EAAKF,EAAKC,GACO,WAAjBD,EAAKC,GAAGE,MACHD,EAAGE,OAAS,IAAIpD,MAAUkD,EAAGE,OAAS,IAAIpD,MAAK,IAAIA,MAAOqD,UAAY,SACvExB,EAAKgB,OAAOS,KAAKJ,GAI7BrB,EAAKgB,OAAShB,EAAKgB,OAAOU,KAAK,SAACC,EAAEC,GAChC,OAAOD,EAAEJ,MAAQK,EAAEL,WAGvB,wCAKF,OACEO,EAAAH,EAAAI,cAAA,OAAKC,UAAU,MAAMC,MAAO,CAACC,gBAAoC,SAApBzE,KAAKQ,MAAMM,OAAgB,UAA8B,YAApBd,KAAKQ,MAAMM,OAAmB,UAAU,YAC1HuD,EAAAH,EAAAI,cAAA,OAAKC,UAAU,iBACfF,EAAAH,EAAAI,cAAA,OAAKC,UAAU,OAAOG,IAAKC,OAE3BN,EAAAH,EAAAI,cAAA,iDAEAD,EAAAH,EAAAI,cAAA,MAAIC,UAAU,SACdF,EAAAH,EAAAI,cAAA,UAAQC,UAAU,SAASK,IAAK5E,KAAKK,OAAQwE,QAAS7E,KAAK8E,YAAYxB,KAAKtD,QAC5EqE,EAAAH,EAAAI,cAAA,OAAKC,UAA+B,SAApBvE,KAAKQ,MAAMM,OAAgB,GAAG,YAC5CuD,EAAAH,EAAAI,cAAA,oDAEFD,EAAAH,EAAAI,cAAA,OAAKC,UAA+B,SAApBvE,KAAKQ,MAAMM,OAAgB,WAAW,IACtDuD,EAAAH,EAAAI,cAAA,MAAIC,UAAU,YAAYvE,KAAKQ,MAAMM,QACrCuD,EAAAH,EAAAI,cAAA,MAAIC,UAA+B,WAApBvE,KAAKQ,MAAMM,OAAkB,WAAW,IAAvD,iDAA8H,eAApBd,KAAKQ,MAAMO,OAAsB,sBAAsBf,KAAKQ,MAAMO,QAC5KsD,EAAAH,EAAAI,cAAA,MAAIC,UAA+B,WAApBvE,KAAKQ,MAAMM,OAAkB,WAAW,IAAvD,YACSuD,EAAAH,EAAAI,cAAA,QAAMC,UAAU,YAA6B1D,IAAtBb,KAAKQ,MAAMQ,OAAuBhB,KAAKQ,MAAMQ,OAAS,OAGtFqD,EAAAH,EAAAI,cAAA,MAAIC,UAA+B,WAApBvE,KAAKQ,MAAMM,OAAkB,WAAW,IAAvD,kBAGAuD,EAAAH,EAAAI,cAAA,OAAKS,MAAM,oBAAoBC,KAAK,SAASC,kBAAgB,wBAC3CpE,IAAhBb,KAAKuD,OAAsBc,EAAAH,EAAAI,cAACY,EAAD,CAAQ3B,OAAQvD,KAAKuD,SAAkBc,EAAAH,EAAAI,cAAAD,EAAAH,EAAAiB,SAAA,eAzRxDC,aAiSZC,mLAEI,IAAAC,EAAAtF,KAON,OANgC,IAA7BA,KAAKuF,MAAMhC,OAAOhC,SACnBvB,KAAKuD,OAASvD,KAAKuF,MAAMhC,OAAOJ,MAAM,EAAE,GACxCnD,KAAKwF,UAAY,GACjBxF,KAAKuD,OAAOkC,IAAI,SAAAC,GAAI,OAAEJ,EAAKE,UAAUE,EAAKC,SAAaD,EAAK,sBAAsBE,OAAO,SAAAF,GAAI,MAAqB,sBAAnBA,EAAKG,OAAOC,MAAmD,kBAAnBJ,EAAKG,OAAOC,OAA2BL,IAAI,SAAAC,GAAI,OAAEA,EAAKK,MAAKC,UAItM3B,EAAAH,EAAAI,cAAAD,EAAAH,EAAAiB,SAAA,KACAd,EAAAH,EAAAI,cAAA,SAAOC,UAAU,SACe,IAA7BvE,KAAKuF,MAAMhC,OAAOhC,OAAe8C,EAAAH,EAAAI,cAAA,UAAID,EAAAH,EAAAI,cAAA,iCAEtCtE,KAAKuD,OAAOkC,IAAI,SAAAC,GAAI,OAAErB,EAAAH,EAAAI,cAAA,UAAID,EAAAH,EAAAI,cAAA,QAAMS,MAAM,QAAOV,EAAAH,EAAAI,cAAC2B,EAAA/B,EAAD,CAAQgC,OAAO,gBAAgBC,KAAMT,EAAK5B,SAAuBO,EAAAH,EAAAI,cAAA,WAAKD,EAAAH,EAAAI,cAAA,QAAMS,MAAM,SAASW,EAAKC,SAAetB,EAAAH,EAAAI,cAAA,WAAKD,EAAAH,EAAAI,cAAA,QAAMS,MAAM,YAAYO,EAAKE,UAAUE,EAAKC,sBAdhMP,aAuBNxF,ICtTKwG,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,wFCFJC,IAASC,cARE,CACTC,OAAQ,0CACRC,WAAY,qCACZC,YAAa,4CACbC,UAAW,qBACXC,cAAe,iCACfC,kBAAmB,iBAGvBC,IAASC,OAAO7C,EAAAH,EAAAI,cAAC6C,EAAD,MAASC,SAASC,eAAe,SDgH3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.48a9d039.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5723d5a7.png\";","import React, { Component } from 'react';\nimport socketIO from 'socket.io-client'\nimport { startSocketIO } from '../node_modules/socket.io-client';\nimport logo from './logo.png';\nimport './App.css';\n\nimport Moment from 'react-moment';\nimport { delay } from 'q';\nconst ical = require('ical');\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.token= \"a55e3035-4bc7-4d7e-92a1-06e8cad95684\";\n    this.appref = React.createRef();\n    this.state={\n      time: Date.now(),\n      id: undefined,\n      status: \"None\",\n      reason: \"\",\n      member: undefined,\n      voices : [],\n      count : 0\n    }\n    // this.member =this.getmember();\n    if(this.voices === undefined || this.voices === []){\n      let mytimer = setInterval( () => {\n        this.voices = speechSynthesis.getVoices();\n        if(this.voices != undefined && this.voices.length > 0 ){\n          this.setState({voices:this.voices});\n          clearInterval(mytimer);\n        }\n    }, 500);\n    }\n    \n  }\n\n  // async getmember(){\n  //   let url=\"https://cors-anywhere.herokuapp.com/https://fabman.io/api/v1/members?limit=1000\";\n  //   await fetch(url,{\n  //     \"async\": true,\n  // \"crossDomain\": true ,\n  // \"method\": \"GET\",\n  // \"headers\": {\n  //   \"Authorization\": \"Bearer a55e3035-4bc7-4d7e-92a1-06e8cad95684\",\n  //   \"cache-control\": \"no-cache\",\n  //   \"Postman-Token\": \"e12b6f6f-286d-4b6c-9faa-e85839d5cad7\"\n  // }\n  //   }).then(async (res)=>{\n  //     let data = await res.json();\n  //     this.memberMap = {}\n  //   for(let i=0;i<data.length;i++){\n  //     this.memberMap[data[i].id] = data[i].firstName//+\" \"+data[i].lastName\n  //   }\n  //     return(data);\n  //   },(err)=>{\n  //     console.error(\"Member Fetch Error\");\n  //     return({});\n  //   })\n  // }\n\n  // speakMemberAccess(name, access){\n  // //   let url = \"https://cors-anywhere.herokuapp.com/https://fabman.io/api/v1/resource-logs?account=288&space=0&resource=834&status=all&order=desc&limit=50\"\n  // //   fetch(url,{\n  // //     \"async\": true,\n  // // \"crossDomain\": true ,\n  // // \"method\": \"GET\",\n  // // \"headers\": {\n  // //   \"Authorization\": \"Bearer a55e3035-4bc7-4d7e-92a1-06e8cad95684\",\n  // //   \"cache-control\": \"no-cache\",\n  // //   \"Postman-Token\": \"e12b6f6f-286d-4b6c-9faa-e85839d5cad7\"\n  // // }\n  //   // }).then(\n  //     // async (response)=>{\n  //     //   await response.json().then((data)=>\n  //     //   {\n  //     //     if(new Date().getTime() - new Date(data[0].createdAt).getTime() > 5000){\n  //     //       this.setState({\n  //     //         time: Date.now(),\n  //     //         id:undefined,\n  //     //         status: \"None\",\n  //     //         reason:\"\",\n  //     //         member:undefined,\n  //     //         count:0\n  //     //       });\n  //     //     }\n  //     //     else if (data[0].type===\"denied\"){\n  //     //       this.setState({\n  //     //         time: Date.now(),\n  //     //         id:data[0].id,\n  //     //         status: \"Denied\",\n  //     //         reason:data[0].reason,\n  //     //         member:data[0].member\n  //     //       },()=>{\n  //     //         this.appref.current.click();\n  //     //         });\n  //     //     }else if(data[0].type===\"allowed\"||data[0].type===\"keyAssigned\"){\n  //     //       this.setState({\n  //     //         time: Date.now(),\n  //     //         id:data[0].id,\n  //     //         status: \"Allowed\",\n  //     //         reason:data[0].reason,\n  //     //         member:data[0].member\n  //     //       },()=>{\n  //     //         this.appref.current.click();\n  //     //     }\n  //     //       );\n  //     //     }else {\n  //     //       this.setState({\n  //     //         time: Date.now(),\n  //     //         id:undefined,\n  //     //         status: \"None\",\n  //     //         reason:\"\",\n  //     //         member:undefined,\n  //     //         count:0\n  //     //       });\n  //     //     }\n  //     //   }\n  //     //   );\n  //     // },\n  //     // (error)=>{\n  //     //   console.log(error)\n  //     // }\n  //   // )\n  // }\n  handleSpeak(){\n    if (this.state.status === \"allowed\"){\n      let name = this.state.member;\n      // let name = this.memberMap[this.state.member]\n      let choices = [\n            \"Welcome \"+this.state.member+\".\",\n            \"Greetings, \"+this.state.member+\".\",\n            \"Hello there, \"+this.state.member+\".\",\n            \"Access granted, \"+this.state.member+\".\",\n            \"Happy making, \"+this.state.member+\".\",\n            \"Salutations, \"+this.state.member+\".\",\n            \"It�s showtime, \"+this.state.member+\".\",\n            \"Shall we play a game, \"+this.state.member+\".\",\n            \"Resistance is futile, \"+this.state.member+\".\",\n            \"Thank you for your cooperation, \"+this.state.member+\".\",\n            \"Great scott, it's \"+this.state.member+\".\",\n            \"Ahoy, \"+this.state.member+\".\",\n            \"Howdy, \"+this.state.member+\".\",\n            \"Hello \"+this.state.member+\", if that�s even your real name.\",\n            \"Hewwo \"+this.state.member+\".\",\n            \"Clear the way, it's \"+this.state.member+\"!\",\n            \"OK, everyone! Let's greet \"+this.state.member+\".\",\n            \"Watch out, it's \"+this.state.member+\".\",\n            \"Always nice to see you, \"+this.state.member+\".\",\n            \"Pick your jaw up off the floor, it's just \"+this.state.member+\".\",\n            \"Laser defences deactivated. Welcome, agent \"+this.state.member+\".\",\n            \"Congratulations \"+this.state.member+\", you've passed the Turing test.\", \n            ];\n      // let choices = [\n      //       \"Welcome \"+this.memberMap[this.state.member]+\".\",\n      //       \"Greetings, \"+this.memberMap[this.state.member]+\".\",\n      //       \"Hello there, \"+this.memberMap[this.state.member]+\".\",\n      //       \"Access granted, \"+this.memberMap[this.state.member]+\".\",\n      //       \"Happy making, \"+this.memberMap[this.state.member]+\".\",\n      //       \"Salutations, \"+this.memberMap[this.state.member]+\".\",\n      //       \"It�s showtime, \"+this.memberMap[this.state.member]+\".\",\n      //       \"Shall we play a game, \"+this.memberMap[this.state.member]+\".\",\n      //       \"Resistance is futile, \"+this.memberMap[this.state.member]+\".\",\n      //       \"Thank you for your cooperation, \"+this.memberMap[this.state.member]+\".\",\n      //       \"Great scott, it's \"+this.memberMap[this.state.member]+\".\",\n      //       \"Ahoy, \"+this.memberMap[this.state.member]+\".\",\n      //       \"Howdy, \"+this.memberMap[this.state.member]+\".\",\n      //       \"Hello \"+this.memberMap[this.state.member]+\", if that�s even your real name.\",\n      //       \"Hewwo \"+this.memberMap[this.state.member]+\".\",\n      //       \"Clear the way, it's \"+this.memberMap[this.state.member]+\"!\",\n      //       \"OK, everyone! Let's greet \"+this.memberMap[this.state.member]+\".\",\n      //       \"Watch out, it's \"+this.memberMap[this.state.member]+\".\",\n      //       \"Always nice to see you, \"+this.memberMap[this.state.member]+\".\",\n      //       \"Pick your jaw up off the floor, it's just \"+this.memberMap[this.state.member]+\".\",\n      //       \"Laser defences deactivated. Welcome, agent \"+this.memberMap[this.state.member]+\".\",\n      //       \"Congratulations \"+this.memberMap[this.state.member]+\", you've passed the Turing test.\", \n      //       ];\n    if(this.state.member !== undefined && this.state.count === 0){\n      let voice_index = [0,1,3,4,5]\n      var utterance = new SpeechSynthesisUtterance(choices[Math.floor(Math.random()*choices.length)]);\n      utterance.voice = this.state.voices[voice_index[Math.floor(Math.random()*5)]];\n      console.log(voice_index[Math.floor(Math.random()*4)])\n      utterance.lang = this.state.voices[0].lang;\n      speechSynthesis.speak(utterance);\n      this.setState({count:1})\n    }\n    // TODO: create a match for if the status is \"keyAssigned\"\n  } else {\n    if(this.state.count === 0){\n    let voice_index = [0,1,3,4,5]\n    var utterance = new SpeechSynthesisUtterance(\"I cannot recognize this key, Please contact the staff member!\");\n    utterance.voice = this.state.voices[voice_index[Math.floor(Math.random()*5)]];\n    utterance.lang = this.state.voices[0].lang;\n    speechSynthesis.speak(utterance);\n    this.setState({count:1})\n  }\n}\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  componentDidMount() {\n\n    /* socket.io */\n\n    const socket = socketIO('http://127.0.0.1:5000', {      \n        transports: ['websocket'], jsonp: false });   \n        socket.connect(); \n        socket.on('connect', () => { \n          console.log('connected to socketio server'); \n        });\n        socket.on('member check-in', (msg) => {\n          let name = msg['data'][0]\n          let access = msg['data'][1]\n          this.setState({ member: name.charAt(0).toUpperCase() + name.slice(1).toLowerCase(), \n                          status: access\n                        });\n          // revert state after 5 seconds\n          setTimeout(function() {\n            this.setState({ member: undefined, \n                            status: \"None\"\n                          });            \n          }.bind(this), 5000)\n        });\n    \n    // this.interval = setInterval(() => {\n    //   this.callApi();\n    // }, 1000);\n\n    // TODO: wrap this in a function -> if events are undefined at the beginning then grab new events... just use setInterval?\n    if(this.events === undefined){\n      ical.fromURL('https://cors-anywhere.herokuapp.com/https://www.trumba.com/service/sea_makerspace.ics', {},  (err, data)=> {\n      this.events = [];\n        for (let k in data) {\n            var ev = data[k];\n            if (data[k].type === 'VEVENT') {\n                  if(ev.start >= new Date() && ev.start <= new Date(new Date().getTime() + 40 * 24 * 60 * 60 * 1000)){\n                    this.events.push(ev)\n                  } \n            }\n        }\n        this.events = this.events.sort((a,b)=>{\n          return a.start - b.start\n        })\n      });\n    }\n    this.new_interval = setInterval(()=>{\n      // this.member =this.getmember();\n      ical.fromURL('https://cors-anywhere.herokuapp.com/https://www.trumba.com/service/sea_makerspace.ics', {},  (err, data)=> {\n      this.events = [];\n        for (let k in data) {\n            var ev = data[k];\n            if (data[k].type === 'VEVENT') {\n                  if(ev.start >= new Date() && ev.start <= new Date(new Date().getTime() + 40 * 24 * 60 * 60 * 1000)){\n                    this.events.push(ev)\n                  } \n            }\n        }\n        this.events = this.events.sort((a,b)=>{\n          return a.start - b.start\n        })\n      });\n    },216000000);\n  }\n\n\n  render() {\n    return (\n      <div className=\"App\" style={{backgroundColor:this.state.status===\"None\"?\"#4b2e83\":this.state.status===\"allowed\"?\"#068912\":\"#b50600\"}}>\n      <div className=\"logo_div pt-3\">\n      <img className=\"logo\" src={logo}></img>\n      </div>\n      <h1>Welcome to the CoMotion MakerSpace!</h1>\n\n      <hr className=\"my-5\"></hr>\n      <button className=\"d-none\" ref={this.appref} onClick={this.handleSpeak.bind(this)}></button>\n      <div className={this.state.status===\"None\"?\"\":\"collapse\"}>\n        <h2>Please tap your card before entering.</h2>\n      </div>\n      <div className={this.state.status===\"None\"?\"collapse\":\"\"}>\n      <h2 className=\"collapse\">{this.state.status}</h2>\n      <h2 className={this.state.status!==\"denied\"?\"collapse\":\"\"}>Please contact a staff member for assistance. {this.state.reason===\"unknownKey\"?\"Key not recognized.\":this.state.reason}</h2>\n      <h2 className={this.state.status===\"denied\"?\"collapse\":\"\"}>\n      Welcome, <span className=\"cap\">{this.state.member !== undefined ? this.state.member : null}</span>\n      {/* Welcome, <span className=\"cap\">{this.state.member!== undefined && this.memberMap !== undefined ? this.memberMap[this.state.member] : null}</span> */}\n      </h2>\n      <h1 className={this.state.status===\"denied\"?\"collapse\":\"\"}>Happy Making!</h1>\n      \n      </div>\n      <div class=\"trumba_frame mt-3\" role=\"region\" aria-labelledby=\"upcoming_events\">\n      {(this.events !== undefined)?<Events events={this.events}></Events>:<></>\n      }\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Events extends Component{\n  \n  render(){\n    if(this.props.events.length !== 0){\n      this.events = this.props.events.slice(0,4);\n      this.event_loc = {}\n      this.events.map(item=>this.event_loc[item.summary] = ((item[\"TRUMBA-CUSTOMFIELD\"].filter(item=>item.params.NAME===\"\\\"Campus location\\\"\" || item.params.NAME===\"\\\"Campus room\\\"\")).map(item=>item.val).join()))\n    }\n\n    return(\n      <>\n      <table className=\"table\">\n        {this.props.events.length === 0 ? <tr><td>No Upcoming Events</td></tr> :\n        // this.events.map(item=><tr><td>{item.summary} @ {this.event_loc[item.summary]}  on <Moment format=\"dddd, MMM Do YYYY, h:mm a\" date={item.start}></Moment></td></tr>)\n        this.events.map(item=><td><span class=\"time\"><Moment format=\"MMM D, h:mm a\" date={item.start}></Moment></span><br/><span class=\"event\">{item.summary}</span><br/><span class=\"location\">{this.event_loc[item.summary]}</span></td>)\n        }\n\n      </table>\n      </>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport firebase from 'firebase/app';\nimport 'firebase/database'\n\nvar config = {\n    apiKey: \"AIzaSyB41H1SpaxmB8n8vTehgYjIXctza7h4fKM\",\n    authDomain: \"makerspace-checkin.firebaseapp.com\",\n    databaseURL: \"https://makerspace-checkin.firebaseio.com\",\n    projectId: \"makerspace-checkin\",\n    storageBucket: \"makerspace-checkin.appspot.com\",\n    messagingSenderId: \"860377247752\"\n  };\n  firebase.initializeApp(config);\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}